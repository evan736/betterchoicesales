exports.id=962,exports.ids=[962],exports.modules={9835:(e,t,a)=>{"use strict";a.a(e,async(e,i)=>{try{a.d(t,{H:()=>m,a:()=>c});var s=a(997),o=a(6689),r=a(9648),n=e([r]);r=(n.then?(await n)():n)[0];let p="http://localhost:8000",l=(0,o.createContext)(void 0),m=({children:e})=>{let[t,a]=(0,o.useState)(null),[i,n]=(0,o.useState)(!0);(0,o.useEffect)(()=>{try{let e=localStorage.getItem("token");e?(r.default.defaults.headers.common.Authorization=`Bearer ${e}`,m()):n(!1)}catch{n(!1)}},[]);let m=async()=>{try{let e=await r.default.get(`${p}/api/auth/me`);a(e.data)}catch(e){localStorage.removeItem("token"),delete r.default.defaults.headers.common.Authorization}finally{n(!1)}},c=async(e,t)=>{let a=new FormData;a.append("username",e),a.append("password",t);let{access_token:i}=(await r.default.post(`${p}/api/auth/login`,a)).data;localStorage.setItem("token",i),r.default.defaults.headers.common.Authorization=`Bearer ${i}`,await m()},d=async e=>{await r.default.post(`${p}/api/auth/register`,e)};return s.jsx(l.Provider,{value:{user:t,loading:i,login:c,logout:()=>{try{localStorage.removeItem("token")}catch{}delete r.default.defaults.headers.common.Authorization,a(null)},register:d},children:e})},c=()=>{let e=(0,o.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};i()}catch(e){i(e)}})},123:(e,t,a)=>{"use strict";a.d(t,{Fg:()=>l,f6:()=>p,yU:()=>o});var i=a(997),s=a(6689);let o=[{id:"mission-control",name:"Mission Control",description:"Dark navy with cyan accents",preview:"#0a0e1a"},{id:"sakura-pink",name:"Pink",description:"Light pink and white",preview:"#fdf2f8"},{id:"apple-clean",name:"Clean",description:"Light, minimal, modern",preview:"#f5f5f7"},{id:"blue-white",name:"Classic",description:"Clean blue and white",preview:"#1e40af"}],r=(0,s.createContext)(void 0);function n(e){return e?`bci-theme-${e}`:"bci-theme-guest"}let p=({children:e,userId:t})=>{let[a,p]=(0,s.useState)("mission-control");(0,s.useEffect)(()=>{try{let e=localStorage.getItem(n(t));e&&o.some(t=>t.id===e)?p(e):p("mission-control")}catch{p("mission-control")}},[t]),(0,s.useEffect)(()=>{let e=document.body;e.classList.add("mission-control"),o.forEach(t=>{"mission-control"!==t.id&&e.classList.remove(t.id)}),"mission-control"!==a&&e.classList.add(a)},[a]);let l=(0,s.useCallback)(e=>{p(e);try{localStorage.setItem(n(t),e)}catch{}},[t]);return i.jsx(r.Provider,{value:{theme:a,setTheme:l,themes:o},children:e})},l=()=>{let e=(0,s.useContext)(r);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},8856:(e,t,a)=>{"use strict";a.a(e,async(e,i)=>{try{a.d(t,{Go:()=>$,JP:()=>f,Nb:()=>d,Sb:()=>g,Tp:()=>n,X1:()=>l,ZP:()=>m,fU:()=>p,id:()=>h,lq:()=>u,n9:()=>c,pR:()=>w,zG:()=>y});var s=a(9648),o=e([s]);let r=(s=(o.then?(await o)():o)[0]).default.create({baseURL:"http://localhost:8000"});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let n={list:e=>r.get("/api/sales/",{params:e}),get:e=>r.get(`/api/sales/${e}`),create:e=>r.post("/api/sales/",e),createFromPdf:e=>r.post("/api/sales/create-from-pdf",e),update:(e,t)=>r.patch(`/api/sales/${e}`,t),delete:e=>r.delete(`/api/sales/${e}`),uploadPDF:(e,t)=>{let a=new FormData;return a.append("file",t),r.post(`/api/sales/${e}/upload-application`,a,{headers:{"Content-Type":"multipart/form-data"}})},extractPDF:e=>{let t=new FormData;return t.append("file",e),r.post("/api/sales/extract-pdf",t,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4})},sendForSignature:(e,t)=>{if(t){let a=new FormData;return a.append("file",t),r.post(`/api/sales/${e}/send-for-signature`,a,{headers:{"Content-Type":"multipart/form-data"},timeout:12e4})}return r.post(`/api/sales/${e}/send-for-signature`,{},{timeout:12e4})},signatureStatus:e=>r.get(`/api/sales/${e}/signature-status`),importCSV:e=>{let t=new FormData;return t.append("file",e),r.post("/api/sales/import-csv",t,{headers:{"Content-Type":"multipart/form-data"},timeout:18e4})}},p={calculate:(e,t)=>r.get(`/api/commissions/calculate/${e}/${t}`),myCommissions:e=>r.get("/api/commissions/my-commissions",{params:{period:e}}),myTier:()=>r.get("/api/commissions/my-tier"),tiers:()=>r.get("/api/commissions/tiers"),createTier:e=>r.post("/api/commissions/tiers",e)},l={upload:(e,t,a)=>{let i=new FormData;return i.append("file",a),i.append("carrier",e),i.append("period",t),r.post("/api/reconciliation/upload",i,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4})},list:()=>r.get("/api/reconciliation/"),get:e=>r.get(`/api/reconciliation/${e}`),match:e=>r.post(`/api/reconciliation/${e}/match`),calculate:e=>r.post(`/api/reconciliation/${e}/calculate`),delete:e=>r.delete(`/api/reconciliation/${e}`),manualMatch:(e,t)=>r.post(`/api/reconciliation/lines/${e}/match?sale_id=${t}`),monthlyPay:e=>r.post(`/api/reconciliation/monthly-pay/${e}`),getMonthlyPay:e=>r.get(`/api/reconciliation/monthly-pay/${e}`),agentSheet:(e,t,a,i)=>{let s={};return a&&(s.rate_adjustment=a),i&&(s.bonus=i),r.get(`/api/reconciliation/agent-sheet/${e}/${t}`,{params:Object.keys(s).length?s:void 0})},agentSheetPdfUrl:(e,t)=>`/api/reconciliation/agent-sheet/${e}/${t}/pdf`},m=r,c={summary:e=>r.get("/api/analytics/summary",{params:e}),byGroup:e=>r.get("/api/analytics/by-group",{params:e}),salesTable:e=>r.get("/api/analytics/sales-table",{params:e}),filterOptions:()=>r.get("/api/analytics/filter-options"),trending:e=>r.get("/api/analytics/trending",{params:e})},d={submit:(e,t)=>r.post(`/api/payroll/submit/${e}`,{agent_overrides:t||{}}),unlock:e=>r.post(`/api/payroll/unlock/${e}`),markPaid:e=>r.post(`/api/payroll/mark-paid/${e}`),history:()=>r.get("/api/payroll/history"),detail:e=>r.get(`/api/payroll/detail/${e}`)},u={overview:e=>r.get("/api/retention/overview",{params:e?{period:e}:{}}),byAgent:e=>r.get("/api/retention/by-agent",{params:e?{period:e}:{}}),byCarrier:e=>r.get("/api/retention/by-carrier",{params:e?{period:e}:{}}),bySource:e=>r.get("/api/retention/by-source",{params:e?{period:e}:{}}),trend:e=>r.get("/api/retention/trend",{params:{months:e||6}}),earlyCancellations:(e,t)=>r.get("/api/retention/early-cancellations",{params:{days:e||90,...t?{period:t}:{}}})},y={sendWelcome:(e,t)=>{if(t?.file){let a=new FormData;return a.append("file",t.file),r.post(`/api/survey/send-welcome/${e}`,a,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4})}return t?.attachSavedPdf?r.post(`/api/survey/send-welcome/${e}?attach_saved_pdf=true`,{},{timeout:3e4}):r.post(`/api/survey/send-welcome/${e}`)},previewEmail:e=>r.get(`/api/survey/preview/${e}`),responses:()=>r.get("/api/survey/responses"),stats:()=>r.get("/api/survey/stats"),welcomeTemplates:()=>r.get("/api/survey/welcome-templates"),previewTemplate:e=>r.get(`/api/survey/welcome-templates/${encodeURIComponent(e)}/preview`)},g={listEmployees:()=>r.get("/api/admin/employees"),createEmployee:e=>r.post("/api/admin/employees",e),updateEmployee:(e,t)=>r.put(`/api/admin/employees/${e}`,t),deleteEmployee:e=>r.delete(`/api/admin/employees/${e}`),resetPassword:(e,t)=>r.post(`/api/admin/employees/${e}/reset-password`,{new_password:t}),listTiers:()=>r.get("/api/admin/commission-tiers"),createTier:e=>r.post("/api/admin/commission-tiers",e),updateTier:(e,t)=>r.put(`/api/admin/commission-tiers/${e}`,t),deleteTier:e=>r.delete(`/api/admin/commission-tiers/${e}`),listLeadSources:()=>r.get("/api/admin/lead-sources"),addLeadSource:e=>r.post("/api/admin/lead-sources",e),listCarriers:()=>r.get("/api/admin/carriers"),addCarrier:e=>r.post("/api/admin/carriers",e),deleteCarrier:e=>r.delete("/api/admin/carriers/"+encodeURIComponent(e)),deleteLeadSource:e=>r.delete("/api/admin/lead-sources/"+encodeURIComponent(e)),surveyStats:()=>r.get("/api/admin/survey-stats"),dropdownOptions:()=>r.get("/api/admin/dropdown-options")},h={clockIn:e=>r.post("/api/timeclock/clock-in",null,{params:e||{}}),clockOut:e=>r.post("/api/timeclock/clock-out",null,{params:e||{}}),status:()=>r.get("/api/timeclock/status"),myHistory:e=>r.get("/api/timeclock/my-history",{params:{month:e}}),adminSummary:e=>r.get("/api/timeclock/admin/summary",{params:{month:e}}),adminEmployeeDetail:(e,t)=>r.get(`/api/timeclock/admin/employee/${e}`,{params:{month:t}}),excuse:(e,t)=>r.post(`/api/timeclock/admin/excuse/${e}`,null,{params:{note:t}}),unexcuse:e=>r.post(`/api/timeclock/admin/unexcuse/${e}`)},f={search:e=>r.get("/api/customers/search",{params:e}),get:e=>r.get(`/api/customers/${e}`),sync:e=>r.post(`/api/customers/${e}/sync`),importFromNowCerts:e=>r.post("/api/customers/import-from-nowcerts",null,{params:{nowcerts_insured_id:e}}),syncAll:()=>r.post("/api/customers/sync-all"),nowcertsStatus:()=>r.get("/api/customers/nowcerts/status"),agencyStats:()=>r.get("/api/customers/agency-stats"),duplicates:()=>r.get("/api/customers/duplicates"),merge:(e,t)=>r.post("/api/customers/merge",null,{params:{keep_id:e,merge_ids:t.join(",")}})},w={upload:async(e,t)=>{let a=new FileReader,i=await new Promise((t,i)=>{a.onload=()=>t(a.result.split(",")[1]),a.onerror=i,a.readAsDataURL(e)}),s=localStorage.getItem("token"),o=await fetch(`/api/nonpay-upload?dry_run=${t?"true":"false"}`,{method:"POST",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}},body:JSON.stringify({filename:e.name,data:i})}),r=await o.json();if(!o.ok)throw{response:{status:o.status,data:r}};return{data:r}},history:e=>r.get("/api/nonpay/history",{params:{limit:e||20}}),emails:e=>r.get("/api/nonpay/emails",{params:{policy_number:e}}),carriers:()=>r.get("/api/nonpay/carriers"),preview:e=>r.get("/api/nonpay/preview",{params:e}),sendTest:e=>r.post("/api/nonpay/send-test",null,{params:e})},$={list:e=>r.get("/api/quotes/",{params:e}),get:e=>r.get(`/api/quotes/${e}`),extractPDF:e=>{let t=new FormData;return t.append("file",e),r.post("/api/quotes/extract-pdf",t,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4})},create:e=>r.post("/api/quotes/",e),update:(e,t)=>r.patch(`/api/quotes/${e}`,t),uploadPDF:(e,t)=>{let a=new FormData;return a.append("file",t),r.post(`/api/quotes/${e}/upload-pdf`,a,{headers:{"Content-Type":"multipart/form-data"}})},sendEmail:(e,t)=>r.post(`/api/quotes/${e}/send-email`,t||{}),markConverted:(e,t)=>r.post(`/api/quotes/${e}/mark-converted`,null,{params:t?{sale_id:t}:{}}),markLost:(e,t)=>r.post(`/api/quotes/${e}/mark-lost`,null,{params:{reason:t||"unknown"}}),checkFollowups:()=>r.post("/api/quotes/check-followups"),stats:()=>r.get("/api/quotes/stats/summary")};i()}catch(e){i(e)}})},5143:(e,t,a)=>{"use strict";a.a(e,async(e,i)=>{try{a.r(t),a.d(t,{default:()=>l});var s=a(997),o=a(9835),r=a(123);a(108),a(1350),a(3578),a(6885),a(208);var n=e([o]);function p({Component:e,pageProps:t}){let{user:a}=(0,o.a)();return s.jsx(r.f6,{userId:a?.id,children:s.jsx(e,{...t})})}function l({Component:e,pageProps:t}){return s.jsx(o.H,{children:s.jsx(p,{Component:e,pageProps:t})})}o=(n.then?(await n)():n)[0],i()}catch(e){i(e)}})},6885:()=>{},208:()=>{},108:()=>{},1350:()=>{},3578:()=>{}};