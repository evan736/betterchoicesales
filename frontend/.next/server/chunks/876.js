"use strict";exports.id=876,exports.ids=[876],exports.modules={4622:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},4979:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},6942:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},1914:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},3740:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>k});var l=t(997),r=t(6689),n=t(1664),i=t.n(n),d=t(1163),c=t(9835),o=t(123),x=t(9858),m=t(3766),h=t(9525),b=t(66),u=t(5077),p=t(8142),g=t(9455),j=t(7232),f=t(8971),v=t(3742),N=t(8583),y=t(8051),w=e([c]);c=(w.then?(await w)():w)[0];let k=()=>{let{user:e,logout:s}=(0,c.a)(),{theme:t,setTheme:a}=(0,o.Fg)(),n=(0,d.useRouter)(),[w,k]=(0,r.useState)(!1),[z,Z]=(0,r.useState)(!1),D=(0,r.useRef)(null),_=(0,r.useRef)(null),S=e?.role?.toLowerCase()==="admin",C=e?.role?.toLowerCase()==="manager"||S;(0,r.useEffect)(()=>{let e=e=>{D.current&&!D.current.contains(e.target)&&k(!1),_.current&&!_.current.contains(e.target)&&Z(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{k(!1)},[n.asPath]);let M=[{href:"/dashboard",label:"Dashboard",icon:l.jsx(x.Z,{size:16}),show:!0},{href:"/sales",label:"Sales",icon:l.jsx(m.Z,{size:16}),show:!0},{href:"/quotes",label:"Quotes",icon:l.jsx(m.Z,{size:16}),show:!0},{href:"/customers",label:"Customers",icon:l.jsx(h.Z,{size:16}),show:!0},{href:"/analytics",label:"Analytics",icon:l.jsx(b.Z,{size:16}),show:!0},{href:"/commissions",label:"Commissions",icon:l.jsx(x.Z,{size:16}),show:!0},{href:"/timeclock",label:"Attendance",icon:l.jsx(u.Z,{size:16}),show:!0},{href:"/statements",label:"Reconciliation",icon:l.jsx(p.Z,{size:16}),show:C},{href:"/retention",label:"Retention",icon:l.jsx(b.Z,{size:16}),show:C},{href:"/admin",label:"Admin",icon:l.jsx(g.Z,{size:16}),show:S}].filter(e=>e.show),E=M.find(e=>n.asPath.startsWith(e.href))?.label||"Menu";return l.jsx("nav",{className:"glass sticky top-0 z-50 border-b border-white/20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between items-center h-14",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)(i(),{href:"/dashboard",className:"flex items-center space-x-2.5 group flex-shrink-0",children:[l.jsx("img",{src:"/logo-bci.png",alt:"BCI",className:"h-8 w-auto"}),l.jsx("span",{className:"font-display font-bold text-base text-brand-900 tracking-tight hidden sm:inline",children:"Better Choice"})]}),e&&(0,l.jsxs)("div",{className:"relative",ref:D,children:[(0,l.jsxs)("button",{onClick:()=>k(!w),className:"flex items-center space-x-1.5 px-3 py-1.5 rounded-lg text-sm font-semibold nav-menu-trigger transition-colors",children:[l.jsx(j.Z,{size:16}),l.jsx("span",{children:E}),l.jsx(f.Z,{size:14,className:`transition-transform ${w?"rotate-180":""}`})]}),w&&l.jsx("div",{className:"absolute left-0 top-full mt-1.5 w-52 rounded-xl shadow-xl border z-[100] overflow-hidden theme-picker-dropdown",children:M.map(e=>{let s=n.asPath.startsWith(e.href);return(0,l.jsxs)(i(),{href:e.href,className:`flex items-center space-x-2.5 px-3 py-2.5 text-sm font-medium transition-colors theme-picker-item ${s?"nav-menu-active":""}`,children:[l.jsx("span",{className:"nav-menu-icon",children:e.icon}),l.jsx("span",{className:"theme-picker-name",children:e.label}),s&&l.jsx(v.Z,{size:14,className:"ml-auto text-green-500"})]},e.href)})})]})]}),e&&(0,l.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,l.jsxs)("div",{className:"relative",ref:_,children:[l.jsx("button",{onClick:()=>Z(!z),className:"p-2 rounded-lg hover:bg-brand-50 text-slate-500 hover:text-brand-600 transition-colors",title:"Change theme",children:l.jsx(N.Z,{size:18})}),z&&(0,l.jsxs)("div",{className:"absolute right-0 top-full mt-1.5 w-52 rounded-xl shadow-xl border z-[100] overflow-hidden theme-picker-dropdown",children:[l.jsx("div",{className:"px-3 py-2 border-b theme-picker-header",children:l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide theme-picker-label",children:"Theme"})}),o.yU.map(e=>(0,l.jsxs)("button",{onClick:()=>{a(e.id),Z(!1)},className:"w-full flex items-center space-x-2.5 px-3 py-2.5 text-left transition-colors theme-picker-item",children:[l.jsx("span",{className:"w-4 h-4 rounded-full border-2 flex-shrink-0",style:{backgroundColor:e.preview,borderColor:t===e.id?"var(--mc-accent, #3b82f6)":"rgba(128,128,128,0.3)"}}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("p",{className:"text-sm font-medium theme-picker-name",children:e.name})}),t===e.id&&l.jsx(v.Z,{size:14,className:"text-green-500 flex-shrink-0"})]},e.id))]})]}),(0,l.jsxs)("div",{className:"hidden sm:flex items-center space-x-1.5 pl-1.5 border-l nav-divider ml-1",children:[(0,l.jsxs)("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight",children:e.full_name}),l.jsx("p",{className:"text-xs text-brand-600 capitalize leading-tight",children:e.role})]}),l.jsx("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-brand-50 text-slate-500 hover:text-red-500 transition-colors",title:"Logout",children:l.jsx(y.Z,{size:18})})]}),l.jsx("button",{onClick:s,className:"sm:hidden p-2 rounded-lg hover:bg-brand-50 text-slate-500 hover:text-red-500 transition-colors",title:"Logout",children:l.jsx(y.Z,{size:18})})]})]})})})};a()}catch(e){a(e)}})},1818:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>b});var l=t(997),r=t(6689),n=t(8856),i=t(9858),d=t(4622),c=t(4979),o=t(8971),x=t(1914),m=e([n]);n=(m.then?(await m)():m)[0];let h=({goal:e,currentPremium:s,dailyPace:t,bizDaysRemaining:a})=>{let r=e=>`$${e.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`,n=Math.min(100,e.progress),i=s>=e.target;return(0,l.jsxs)("div",{className:`p-4 rounded-lg border ${i?"bg-green-50 border-green-200":e.on_pace?"bg-blue-50 border-blue-200":"bg-slate-50 border-slate-200"}`,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-bold text-slate-900",children:e.label}),i?l.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-100 px-2 py-0.5 rounded-full",children:"âœ“ REACHED"}):e.on_pace?l.jsx("span",{className:"text-xs font-bold text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:"ON PACE"}):l.jsx("span",{className:"text-xs font-bold text-amber-600 bg-amber-100 px-2 py-0.5 rounded-full",children:"PUSH NEEDED"})]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 mb-2",children:l.jsx("div",{className:`h-2.5 rounded-full transition-all duration-500 ${i?"bg-green-500":e.on_pace?"bg-blue-500":"bg-amber-500"}`,style:{width:`${n}%`}})}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-600",children:[(0,l.jsxs)("span",{children:[r(s)," / ",r(e.target)]}),!i&&(0,l.jsxs)("span",{children:[r(e.remaining)," remaining"]})]}),!i&&e.daily_needed>0&&(0,l.jsxs)("div",{className:"mt-2 text-xs text-slate-500",children:["Need ",(0,l.jsxs)("span",{className:"font-semibold text-slate-700",children:[r(e.daily_needed),"/day"]})," over ",a," business days",t>0&&(0,l.jsxs)("span",{children:[" (current pace: ",r(t),"/day)"]})]})]})},b=({compact:e=!1,period:s,showTrending:t=!0,showGoals:a=!0})=>{let[m,b]=(0,r.useState)(null),[u,p]=(0,r.useState)(""),[g,j]=(0,r.useState)(!1),[f,v]=(0,r.useState)(!0),N=s||"monthly",y=async e=>{v(!0);try{let s={period:"all-time"===N?"annual":N};e&&(s.target_date=e);let t=await n.n9.trending(s);b(t.data),e||p(t.data.target_date)}catch(e){console.error("Failed to load trending data:",e)}finally{v(!1)}};(0,r.useEffect)(()=>{p(""),y()},[N]);let w=e=>{p(e),y(e)},k=e=>`$${e.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}`;if(f||!m)return(0,l.jsxs)("div",{className:"card animate-pulse",children:[l.jsx("div",{className:"h-6 bg-slate-200 rounded w-48 mb-4"}),l.jsx("div",{className:"h-20 bg-slate-100 rounded"})]});let z="last_year"===m.mode,Z=(()=>{if(z)return`${m.year} Full Year`;let e=new Date(u+"T00:00:00"),s=new Date;return e.getMonth()===s.getMonth()&&e.getFullYear()===s.getFullYear()?"End of Month":11===e.getMonth()&&31===e.getDate()?"End of Year":e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})(),D="annual"===N?"Year-to-Date":"last_year"===N?`Last Year (${m.year})`:"This Month",_=new Date,S=new Date(_.getFullYear(),_.getMonth()+1,0),C=new Date(_.getFullYear(),3*Math.ceil((_.getMonth()+1)/3),0),M=new Date(_.getFullYear(),11,31),E=[{label:"End of Month",date:S.toISOString().slice(0,10)},{label:"End of Quarter",date:C.toISOString().slice(0,10)},{label:"End of Year",date:M.toISOString().slice(0,10)}];return(0,l.jsxs)("div",{className:"space-y-6",children:[t&&(0,l.jsxs)("div",{className:"card border-2 border-brand-100",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"font-display text-xl font-bold text-slate-900 flex items-center gap-2",children:[l.jsx(i.Z,{className:"text-brand-600",size:22}),z?`${m.year} Production`:"Trending Data"]}),!z&&(0,l.jsxs)("button",{onClick:()=>j(!g),className:"flex items-center gap-1 text-sm font-medium text-brand-600 hover:text-brand-700 transition-colors",children:[l.jsx(d.Z,{size:16}),Z,g?l.jsx(c.Z,{size:14}):l.jsx(o.Z,{size:14})]})]}),g&&!z&&(0,l.jsxs)("div",{className:"mb-4 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[l.jsx("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:E.map(e=>l.jsx("button",{onClick:()=>{w(e.date),j(!1)},className:`px-3 py-1 rounded-md text-xs font-semibold transition-all ${u===e.date?"bg-brand-600 text-white":"bg-white border border-slate-200 text-slate-600 hover:border-brand-300"}`,children:e.label},e.label))}),l.jsx("input",{type:"date",value:u,min:new Date().toISOString().slice(0,10),max:`${_.getFullYear()}-12-31`,onChange:e=>{w(e.target.value),j(!1)},className:"px-3 py-1.5 rounded-lg text-sm border border-slate-200 bg-white text-slate-700 focus:border-brand-400 outline-none"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"p-3 bg-slate-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"text-xs text-slate-500 font-medium mb-1",children:[D," Premium"]}),l.jsx("div",{className:"text-xl font-bold text-slate-900",children:k(m.current_premium)})]}),z?(0,l.jsxs)("div",{className:"p-3 bg-slate-50 rounded-lg",children:[l.jsx("div",{className:"text-xs text-slate-500 font-medium mb-1",children:"Total Sales"}),l.jsx("div",{className:"text-xl font-bold text-slate-900",children:m.total_sales||0})]}):(0,l.jsxs)("div",{className:"p-3 bg-brand-50 rounded-lg border border-brand-100",children:[(0,l.jsxs)("div",{className:"text-xs text-brand-600 font-medium mb-1",children:["Projected by ",Z]}),l.jsx("div",{className:"text-xl font-bold text-brand-700",children:k(m.projected_premium)})]})]}),!z&&(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-center",children:[(0,l.jsxs)("div",{children:[l.jsx("div",{className:"text-lg font-bold text-slate-900",children:k(m.daily_pace)}),l.jsx("div",{className:"text-xs text-slate-500",children:"Daily Pace"})]}),(0,l.jsxs)("div",{children:[l.jsx("div",{className:"text-lg font-bold text-slate-900",children:m.biz_days_elapsed}),l.jsx("div",{className:"text-xs text-slate-500",children:"Biz Days In"})]}),(0,l.jsxs)("div",{children:[l.jsx("div",{className:"text-lg font-bold text-slate-900",children:m.biz_days_remaining}),l.jsx("div",{className:"text-xs text-slate-500",children:"Biz Days Left"})]})]}),z&&m.monthly_breakdown&&!e&&(0,l.jsxs)("div",{className:"mt-4 pt-3 border-t border-slate-100",children:[l.jsx("div",{className:"text-xs font-semibold text-slate-500 mb-2",children:"Monthly Breakdown"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:m.monthly_breakdown.map(e=>(0,l.jsxs)("div",{className:"text-center p-2 bg-slate-50 rounded",children:[l.jsx("div",{className:"text-xs text-slate-400",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.month-1]}),l.jsx("div",{className:"text-sm font-bold text-slate-700",children:k(e.premium)})]},e.month))})]}),!e&&!z&&m.ytd_premium>0&&l.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100",children:(0,l.jsxs)("div",{className:"text-sm text-slate-600",children:["Year-to-Date Premium: ",l.jsx("span",{className:"font-bold text-slate-900",children:k(m.ytd_premium)})]})})]}),a&&!z&&m.goals.length>0&&(0,l.jsxs)("div",{className:"card border-2 border-amber-100",children:[(0,l.jsxs)("h3",{className:"font-display text-xl font-bold text-slate-900 flex items-center gap-2 mb-4",children:[l.jsx(x.Z,{className:"text-amber-500",size:22}),"Goals & Milestones"]}),l.jsx("div",{className:"space-y-4",children:m.goals.map((e,s)=>l.jsx(h,{goal:e,currentPremium:m.current_premium,dailyPace:m.daily_pace,bizDaysRemaining:m.biz_days_remaining},s))})]})]})};a()}catch(e){a(e)}})}};