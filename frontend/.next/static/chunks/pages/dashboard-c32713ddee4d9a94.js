(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1853:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(4297).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6583:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(4297).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},3756:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(4297).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9283:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(4297).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},4976:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(4297).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},528:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(2773)}])},2773:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var n=s(5893),a=s(7294),l=s(1163),i=s(9835),r=s(3740),o=s(2502),c=s(8856),d=s(3766),m=s(4297);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,m.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var x=s(6942),p=s(9858),h=s(6583),f=s(5077),g=s(4976);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,m.Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);var v=s(8051),j=s(3756),N=s(9283),k=s(1853),y=s(8971);function w(){var e;let{user:t,loading:s}=(0,i.a)(),m=(0,l.useRouter)(),[f,g]=(0,a.useState)(null),[b,v]=(0,a.useState)([]),[j,N]=(0,a.useState)(null),[k,y]=(0,a.useState)(null),[w,S]=(0,a.useState)(!1),[z,T]=(0,a.useState)(""),[W,I]=(0,a.useState)("idle");(0,a.useEffect)(()=>{s||t?t&&(C(),U()):m.push("/")},[t,s]);let C=async()=>{try{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0],s=e.toISOString().split("T")[0],n=(await c.Tp.list({date_from:t,date_to:s})).data||[];v(n.slice(0,15));let a=n.reduce((e,t)=>e+parseFloat(t.written_premium||0),0);g({totalSales:n.length,totalPremium:a,totalCommission:0,activePolicies:n.filter(e=>"active"===e.status).length})}catch(e){console.error("Sales load failed:",e)}try{let e=await c.fU.myTier();N(e.data)}catch(e){console.error("Tier load failed:",e)}try{let e=((await c.fU.myCommissions()).data||[]).reduce((e,t)=>e+parseFloat(t.commission_amount||0),0);g(t=>t?{...t,totalCommission:e}:t)}catch(e){console.error("Commissions load failed:",e)}},U=async()=>{try{let e=await c.id.status();y(e.data)}catch(e){console.error("Clock status failed:",e)}};(0,a.useEffect)(()=>{if((null==k?void 0:k.status)!=="clocked_in"){T("");return}let e=new Date(k.clock_in),t=()=>{let t=Date.now()-e.getTime();T("".concat(Math.floor(t/36e5),"h ").concat(Math.floor(t%36e5/6e4),"m ").concat(Math.floor(t%6e4/1e3),"s"))};t();let s=setInterval(t,1e3);return()=>clearInterval(s)},[k]);let R=()=>new Promise(e=>{if(!navigator.geolocation){I("error"),e(null);return}I("acquiring"),navigator.geolocation.getCurrentPosition(t=>{I("acquired"),e({lat:t.coords.latitude,lng:t.coords.longitude,accuracy:t.coords.accuracy})},t=>{I(1===t.code?"denied":"error"),e(null)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4})}),E=async()=>{S(!0);try{await c.id.clockIn(),await U(),R().catch(()=>{})}catch(a){var e,t,s;console.error("Clock in error:",a);let n=(null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.detail)||(null===(s=a.response)||void 0===s?void 0:s.statusText)||a.message||"Unknown error";alert("Clock in failed: ".concat(n))}finally{S(!1)}},L=async()=>{S(!0);try{await c.id.clockOut(),await U()}catch(a){var e,t,s;console.error("Clock out error:",a);let n=(null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.detail)||(null===(s=a.response)||void 0===s?void 0:s.statusText)||a.message||"Unknown error";alert("Clock out failed: ".concat(n))}finally{S(!1)}};if(s)return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-pulse text-brand-600 font-semibold",children:"Loading..."})});if(!t)return null;let V=j?"".concat((100*j.commission_rate).toFixed(0),"%"):"—",D=(null==j?void 0:j.current_tier)||"—",Y=null==j?void 0:j.premium_to_next_tier,A=(null==j?void 0:j.next_tier)?"".concat((100*j.next_tier.commission_rate).toFixed(0),"%"):null;return null===(e=t.role)||void 0===e||e.toLowerCase(),(0,n.jsxs)("div",{className:"min-h-screen",children:[(0,n.jsx)(r.Z,{}),(0,n.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{className:"font-display text-3xl font-bold text-slate-900",children:["Welcome back, ",t.full_name,"!"]}),(0,n.jsx)("p",{className:"text-slate-600",children:"Here's your performance snapshot."})]}),(0,n.jsx)(_,{status:k,elapsedTime:z,clockLoading:w,gpsStatus:W,onClockIn:E,onClockOut:L,fmtTime:e=>e?new Date(e+(e.endsWith("Z")?"":"Z")).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"—"})]}),(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3 items-start mb-6",children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 flex-1",children:[(0,n.jsx)(F,{label:"Agency Management",links:[{name:"NowCerts AMS",url:"https://identity.nowcerts.com/Account/Login?ReturnUrl=%2FAccount%2FLoginRedirectUrl"}]}),(0,n.jsx)(F,{label:"Carrier Links",links:[{name:"National General",url:"https://natgenagency.com/Login.aspx?Menu=Login"},{name:"Progressive",url:"https://www.foragentsonlylogin.progressive.com/Login/?flowId=dU5FfBvVR0"},{name:"Grange",url:"https://agentware.grangeagent.com/default.aspx?ReturnUrl=https%3a%2f%2fgainwebpl.grangeagent.com%2fGainweb%2f"},{name:"Travelers",url:"https://signin.travelers.com/#/"},{name:"Safeco",url:"https://lmidp.libertymutual.com/as/authorization.oauth2?client_id=uscm_oidcsitecoreplprd_1&response_type=code&scope=openid%20profile&code_challenge=STUZEMgIVIs9i18uMUR7UuJnnr8PFI1htDl42cDGcgE&code_challenge_method=S256&state=OpenIdConnect.AuthenticationProperties%3Dxh8KJAfM3kh6NEM11pnHfWNlx4KK_9_IXO8DH3_CH4qM1Um4yK4buJe0octy7QkSde8HOo4rH9ZXdS_t9VOT7Gc6we4KsDtmEukehPfqxYQgFoYAUBvuYqNKNem-GnoPTAvYIoC7iH1g8R5SmBQMAzMP6fYQDEqLInOYpYeBbolpU_rXVVJcwanxhOeI_znW7bJa-1WdFQULHaxOJd8enCLpCwRCMchoyOKfG0uyngDhKdzWcXfJge-atEPDtT3EhqXCAfELrnroaCeX8HvBdlhHsx1r1d_m0RkAj4pN9Rs&response_mode=form_post&nonce=639069622593192597.MDgyZWU5MjAtOTI5MC00NTc2LWJlMWUtMGMzMzM5N2FiYWQxYjU2MjljMTktZWI4ZS00ZTAxLTljNjktYTFjNzg3NGQwMzcw&audience=uscm_oidcsitecoreplprd_1&redirect_uri=https%3A%2F%2Fnow.agent.safeco.com%2Fidentity%2Fexternallogincallback%3FReturnUrl%3D%2Fstart&x-client-SKU=ID_NET461&x-client-ver=5.7.0.0"},{name:"Geico",url:"https://geicoextendprod.b2clogin.com/geicoextendprod.onmicrosoft.com/B2C_1A_signup_signin/oauth2/v2.0/authorize?response_type=code&client_id=f77f88b1-9ad4-43e9-b813-02ce523bbbb1&redirect_uri=https://ecams.geico.com/federation/oidc/iagent&scope=f77f88b1-9ad4-43e9-b813-02ce523bbbb1&code_challenge=Y4aCCtbcW0HRkpHk-xClVavcZ8hoIV2oWKih4U_nsyI&code_challenge_method=S256&state=qx5cjs5lb05ovglw8x6ioiehca9kls5&relayState=https%3A%2F%2Fgateway.geico.com%2FDashboard"},{name:"Openly",url:"https://auth.openly.com/u/login/identifier?state=hKFo2SBtVjNwREdYUmlSR2x0dDdzclNHVzVUdTVXVnQ5QmltaaFur3VuaXZlcnNhbC1sb2dpbqN0aWTZIDRRemFRemZxV25WdWctS1lfVmtxeldmWnp6VTBWWUh3o2NpZNkgRVFsQU0xTlZoUzVwSWxmOGxsaXloaENMbW1TVDJnU3M"},{name:"Universal",url:"https://atlasbridge.com/"},{name:"Branch",url:"https://staff.ourbranch.com/signin"},{name:"American Modern",url:"https://login.amig.com/byoid.onmicrosoft.com/b2c_1a_prd_amigaggwsignin/oauth2/v2.0/authorize?client_id=263304b5-b180-4605-b4ff-dd98478d4a6e&scope=openid%20profile%20offline_access&redirect_uri=https%3A%2F%2Famsuiteplus.amig.com&client-request-id=7758d9ca-66f0-40fa-b304-35ff7c013baa&response_mode=fragment&response_type=code&x-client-SKU=msal.js.browser&x-client-VER=3.6.0&client_info=1&code_challenge=mnwvErqoGZ5jioFlpswrI6otorWFHwWCJfPO3vRPfUY&code_challenge_method=S256&nonce=2007027b-82cb-4bdc-bc75-7150927efa86&state=eyJpZCI6IjBlNTE2OTY5LWNlMTMtNGZhYi04MDljLTcwMjA2M2E2MDgyYSIsIm1ldGEiOnsiaW50ZXJhY3Rpb25UeXBlIjoicmVkaXJlY3QifX0%3D"},{name:"Homeowners of America",url:"https://portal.hoaic.com/agent/landing"},{name:"Clearcover",url:"https://auth.clearcover.com/u/login/identifier?state=hKFo2SBKeHVIM2tmVGExQ1JmXzkxRGlUQ2hRbnBzVG5QczR6caFur3VuaXZlcnNhbC1sb2dpbqN0aWTZIE90WWRJR3V0UkZ0eHpmM1FuUGpVcW05ck50dERMeHNXo2NpZNkgN3RUT3poWG9DSjREZnN0TDZuWmFxTGpGWFBXWTRQbGM"},{name:"Bristol West",url:"https://bwlogin.iaproducers.com/oauth2/aus8pd5v02vExnL19697/v1/authorize?client_id=0oa8plkp8jLrucllj697&response_type=code&scope=offline_access%20openid&redirect_uri=https://www.iaproducers.com/Producers/FMLogIn.aspx&state=AuthCodeRedirectUrl"},{name:"Next Insurance",url:"https://agents.nextinsurance.com/authentication"},{name:"Foremost",url:"https://www.foremoststar.com/nssWeb/pages/login/nssPreLogin.jsp"},{name:"Gainsco",url:"https://sso.gainsco.com/login?state=hKFo2SA4YlhzMDBwWG5jcXFnM3o0WXppQkNzRkZfYmZrZm0wbaFupWxvZ2luo3RpZNkgcFBfTzh2YVppZWk5bHFMaVZJYzA0b2hRMTBoNk14ZEejY2lk2SBNOWt4ZkU4NnBaeFJpNTRmSTdqckwzNldoS1ZkbmdHVw&client=M9kxfE86pZxRi54fI7jrL36WhKVdngGW&protocol=oauth2&redirect_uri=https%3A%2F%2Fportal.gainscoconnect.com%2Fcallback&response_mode=form_post&response_type=code%20id_token&scope=openid%20profile%20email&nonce=637955886586256628.MTMwNzgzM2ItZGQxYy00OWVlLWEzMzYtZjZmMWYzZDFiMDMyMDVjZDZmNDgtOGEyMS00NTUyLWI2ZWUtYmU5NjY0NzYwYTY1&x-client-SKU=ID_NET461&x-client-ver=5.3.0.0"},{name:"Lemonade",url:"https://www.lemonade.com/agents-login#email"},{name:"Texas Fair Plan",url:"https://producer.twia.org/producer/tfpa"},{name:"Illinois Fair Plan",url:"https://ifpa.onaipso.com/"}]}),(0,n.jsx)(F,{label:"Lead Sources",links:[{name:"Insurance AI",url:"https://www.portal.insuranceagents.ai/login"},{name:"QuoteWizard",url:"https://qwexternalidp.b2clogin.com/qwexternalidp.onmicrosoft.com/b2c_1_everest_sign_in_v2/oauth2/v2.0/authorize?response_type=id_token&scope=https%3A%2F%2Fqwexternalidp.onmicrosoft.com%2Fclient-prod%2Fuser_impersonation%20https%3A%2F%2Fqwexternalidp.onmicrosoft.com%2Fclient-prod%2Foffline_access%20openid%20profile&client_id=6025511d-4d41-4e09-9957-48907e15645c&redirect_uri=https%3A%2F%2Fadmin.quotewizard.com%2Fcallback.html&state=eyJpZCI6ImVkNGVlODE3LWEyNzMtNDU2YS04YmQ5LTM3ZDQwOTYwMGY4OSIsInRzIjoxNzcxMzY1OTEzLCJtZXRob2QiOiJyZWRpcmVjdEludGVyYWN0aW9uIn0%3D&nonce=80404bd1-5303-4990-8df7-c0aaae709bd1&client_info=1&x-client-SKU=MSAL.JS&x-client-Ver=1.4.11&client-request-id=405e6889-a00e-4a1e-8681-416f3b52df8f&response_mode=fragment"}]}),(0,n.jsx)(F,{label:"Useful Sites",links:[{name:"Zillow",url:"https://www.zillow.com"}]})]}),(0,n.jsxs)("a",{href:"https://app.quotamation.com/login",target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 inline-flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white font-bold px-6 py-3 rounded-xl text-base transition-all shadow-lg hover:shadow-xl start-quote-btn",children:[(0,n.jsx)(d.Z,{size:20}),(0,n.jsx)("span",{children:"Start a Quote"}),(0,n.jsx)(u,{size:14,className:"opacity-70"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[(0,n.jsx)(M,{title:"Sales MTD",value:(null==f?void 0:f.totalSales)||0,icon:(0,n.jsx)(d.Z,{className:"text-brand-600",size:20})}),(0,n.jsx)(M,{title:"Written Premium MTD",value:"$".concat(((null==f?void 0:f.totalPremium)||0).toLocaleString()),icon:(0,n.jsx)(x.Z,{className:"text-green-600",size:20})}),(0,n.jsx)(M,{title:"Active Policies",value:(null==f?void 0:f.activePolicies)||0,icon:(0,n.jsx)(p.Z,{className:"text-blue-600",size:20})}),(0,n.jsxs)("div",{className:"stat-card bg-gradient-to-br from-brand-600 to-brand-700 text-white relative overflow-hidden",children:[(0,n.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,n.jsx)("div",{className:"p-2 rounded-lg bg-white/10",children:(0,n.jsx)(h.Z,{size:20})})}),(0,n.jsxs)("div",{className:"text-3xl font-bold mb-0.5",children:["Tier ",D]}),(0,n.jsxs)("div",{className:"text-sm font-semibold text-blue-100",children:[V," commission"]}),Y&&Y>0&&A&&(0,n.jsxs)("p",{className:"text-xs text-blue-200 mt-1",children:["$",Number(Y).toLocaleString()," to ",A]}),!Y&&(null==j?void 0:j.current_tier)===7&&(0,n.jsx)("p",{className:"text-xs text-blue-200 mt-1",children:"Top tier!"})]})]}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)(o.Z,{compact:!0})}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Recent Sales"}),(0,n.jsx)("button",{onClick:()=>m.push("/sales"),className:"text-xs font-semibold text-brand-600 hover:text-brand-700",children:"View All →"})]}),(0,n.jsx)(Z,{sales:b})]})]})]})}let _=e=>{let{status:t,elapsedTime:s,clockLoading:a,gpsStatus:l,onClockIn:i,onClockOut:r,fmtTime:o}=e;return(0,n.jsxs)("div",{className:"flex-shrink-0 rounded-xl border-2 px-4 py-3 transition-all ".concat((null==t?void 0:t.status)==="clocked_in"?"bg-green-50 border-green-200":(null==t?void 0:t.status)==="clocked_out"?"bg-slate-50 border-slate-200":"bg-white border-blue-200 shadow-md"),children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"p-2 rounded-full ".concat((null==t?void 0:t.status)==="clocked_in"?"bg-green-100":(null==t?void 0:t.status)==="clocked_out"?"bg-slate-100":"bg-blue-100"),children:(0,n.jsx)(f.Z,{size:18,className:(null==t?void 0:t.status)==="clocked_in"?"text-green-600":(null==t?void 0:t.status)==="clocked_out"?"text-slate-400":"text-blue-600"})}),(0,n.jsx)("div",{className:"min-w-0",children:(null==t?void 0:t.status)==="clocked_in"?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"font-bold text-green-800 text-xs leading-tight",children:"Clocked In"}),(0,n.jsxs)("p",{className:"text-green-700 text-xs",children:[o(t.clock_in),t.is_late&&(0,n.jsxs)("span",{className:"text-amber-600 font-semibold",children:[" \xb7 ",t.minutes_late,"m late"]})]}),s&&(0,n.jsx)("p",{className:"font-mono font-bold text-green-900 text-sm",children:s}),!0===t.is_at_office&&(0,n.jsxs)("p",{className:"text-green-600 text-xs flex items-center",children:[(0,n.jsx)(g.Z,{size:10,className:"mr-0.5"}),"Office"]}),!1===t.is_at_office&&(0,n.jsxs)("p",{className:"text-amber-600 text-xs flex items-center",children:[(0,n.jsx)(g.Z,{size:10,className:"mr-0.5"}),"Remote"]})]}):(null==t?void 0:t.status)==="clocked_out"?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"font-bold text-slate-600 text-xs",children:"Done"}),(0,n.jsxs)("p",{className:"text-slate-500 text-xs",children:[o(t.clock_in),"–",o(t.clock_out)," \xb7 ",t.hours_worked,"h"]})]}):(0,n.jsx)("p",{className:"font-bold text-blue-800 text-xs",children:"Not clocked in"})}),(0,n.jsx)("div",{className:"flex-shrink-0",children:(null==t?void 0:t.status)==="clocked_in"?(0,n.jsxs)("button",{onClick:r,disabled:a,className:"inline-flex items-center space-x-1.5 bg-red-600 hover:bg-red-700 text-white font-bold px-3 py-2 rounded-lg text-sm disabled:opacity-50",children:[a?(0,n.jsx)(b,{size:14,className:"animate-spin"}):(0,n.jsx)(v.Z,{size:14}),(0,n.jsx)("span",{children:"Out"})]}):(null==t?void 0:t.status)==="clocked_out"?(0,n.jsx)(j.Z,{size:24,className:"text-green-400"}):(0,n.jsxs)("button",{onClick:i,disabled:a,className:"inline-flex items-center space-x-1.5 bg-green-600 hover:bg-green-700 text-white font-bold px-3 py-2 rounded-lg text-sm disabled:opacity-50",children:[a?(0,n.jsx)(b,{size:14,className:"animate-spin"}):(0,n.jsx)(N.Z,{size:14}),(0,n.jsx)("span",{children:"In"})]})})]}),"acquiring"===l&&(0,n.jsxs)("p",{className:"text-xs text-blue-500 mt-1 flex items-center",children:[(0,n.jsx)(b,{size:10,className:"animate-spin mr-1"}),"GPS..."]}),"denied"===l&&(0,n.jsxs)("p",{className:"text-xs text-amber-500 mt-1",children:[(0,n.jsx)(k.Z,{size:10,className:"inline mr-1"}),"No GPS"]})]})},Z=e=>{let{sales:t}=e,s=(0,a.useRef)(null),[l,i]=(0,a.useState)(!1),[r,o]=(0,a.useState)("60s"),c=t.length>0?[...t,...t]:[];return(0,a.useEffect)(()=>{let e=requestAnimationFrame(()=>{if(s.current&&t.length>0){let e=s.current.scrollWidth/2;o("".concat(Math.max(e/55,12),"s"))}i(!0)});return()=>cancelAnimationFrame(e)},[t]),(0,n.jsxs)("div",{className:"ticker-container relative overflow-hidden rounded-lg border border-slate-200",style:{minHeight:"48px"},children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n        @keyframes tickerSlide {\n          from { transform: translateX(0); }\n          to   { transform: translateX(-50%); }\n        }\n        .ticker-animate {\n          display: flex;\n          white-space: nowrap;\n          will-change: transform;\n          animation: tickerSlide var(--ticker-duration, 60s) linear infinite;\n        }\n        .ticker-animate:hover {\n          animation-play-state: paused;\n        }\n      "}}),0===t.length?(0,n.jsx)("div",{className:"flex items-center justify-center h-12 text-sm text-slate-500",children:"No recent sales yet"}):(0,n.jsx)("div",{ref:s,className:"ticker-animate items-center",style:{"--ticker-duration":r,visibility:l?"visible":"hidden"},children:c.map((e,t)=>(0,n.jsxs)("div",{className:"inline-flex items-center space-x-2 px-4 flex-shrink-0",style:{height:"48px"},children:[(0,n.jsx)("span",{className:"w-2 h-2 rounded-full flex-shrink-0 ".concat("active"===e.status?"bg-green-500":"pending"===e.status?"bg-amber-500":"bg-red-400")}),(0,n.jsx)("span",{className:"text-sm font-semibold ticker-name",children:e.client_name}),(0,n.jsx)("span",{className:"text-xs ticker-sep",children:"\xb7"}),(0,n.jsxs)("span",{className:"text-sm font-bold ticker-amount",children:["$",parseFloat(e.written_premium).toLocaleString()]}),(0,n.jsx)("span",{className:"text-xs ticker-source",children:e.lead_source}),(0,n.jsx)("span",{className:"text-slate-300 mx-2",children:"|"})]},"".concat(e.id,"-").concat(t)))}),t.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 w-10 z-10 pointer-events-none ticker-fade-left"}),(0,n.jsx)("div",{className:"absolute inset-y-0 right-0 w-10 z-10 pointer-events-none ticker-fade-right"})]})]})},M=e=>{let{title:t,value:s,icon:a}=e;return(0,n.jsxs)("div",{className:"stat-card",children:[(0,n.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,n.jsx)("div",{className:"p-1.5 sm:p-2 rounded-lg bg-gradient-to-br from-slate-50 to-slate-100",children:a})}),(0,n.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-slate-900 mb-0.5 truncate",children:s}),(0,n.jsx)("div",{className:"text-[11px] sm:text-xs text-slate-600 font-medium",children:t})]})},F=e=>{let{label:t,links:s}=e,[l,i]=(0,a.useState)(!1),r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=e=>{r.current&&!r.current.contains(e.target)&&i(!1)};return l&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]),(0,n.jsxs)("div",{className:"relative",ref:r,children:[(0,n.jsxs)("button",{onClick:()=>i(!l),className:"inline-flex items-center space-x-1.5 px-3 py-2 rounded-lg border border-slate-200 hover:border-brand-400 hover:bg-brand-50 transition-all text-sm link-dropdown-trigger",children:[(0,n.jsx)("span",{className:"font-medium text-slate-700 link-dropdown-label",children:t}),(0,n.jsx)(y.Z,{size:14,className:"text-slate-400 transition-transform ".concat(l?"rotate-180":"")})]}),l&&(0,n.jsx)("div",{className:"absolute left-0 top-full mt-1 w-56 rounded-xl shadow-xl border z-[100] overflow-hidden theme-picker-dropdown",style:{maxHeight:"320px",overflowY:"auto"},children:s.map(e=>(0,n.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between px-3 py-2 text-sm transition-colors theme-picker-item",onClick:()=>i(!1),children:[(0,n.jsx)("span",{className:"font-medium theme-picker-name",children:e.name}),(0,n.jsx)(u,{size:12,className:"text-slate-400 flex-shrink-0"})]},e.name))})]})}}},function(e){e.O(0,[597,228,116,888,774,179],function(){return e(e.s=528)}),_N_E=e.O()}]);