(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{6583:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},4622:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6942:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2765:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/commissions",function(){return t(759)}])},759:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var a=t(5893),i=t(7294),l=t(1163),r=t(9835),n=t(3740),c=t(8856),d=t(6583),o=t(6942),m=t(9858),x=t(4622);function h(){let{user:e,loading:s}=(0,r.a)(),t=(0,l.useRouter)(),[x,h]=(0,i.useState)([]),[p,b]=(0,i.useState)([]),[N,v]=(0,i.useState)(null),[g,f]=(0,i.useState)(""),[y,_]=(0,i.useState)(!0);(0,i.useEffect)(()=>{s||e?e&&w():t.push("/")},[e,s]);let w=async()=>{try{let[e,s,t]=await Promise.all([c.fU.myCommissions(),c.fU.tiers(),c.fU.myTier()]);h(e.data),b(s.data),v(t.data)}catch(e){console.error("Failed to load commissions:",e)}finally{_(!1)}};if(s||!e)return null;let k=x.reduce((e,s)=>e+parseFloat(s.commission_amount),0),S=new Date().toISOString().slice(0,7),T=x.filter(e=>e.period===S).reduce((e,s)=>e+parseFloat(s.commission_amount),0),Z=(null==N?void 0:N.current_tier)||1,F=N?"".concat((100*N.commission_rate).toFixed(0),"%"):"—";return(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(n.Z,{}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"font-display text-4xl font-bold text-slate-900 mb-2",children:"Commission Tracking"}),(0,a.jsx)("p",{className:"text-slate-600",children:"View your earnings and commission tiers"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"stat-card bg-gradient-to-br from-brand-600 to-brand-700 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(d.Z,{size:32}),(0,a.jsxs)("div",{className:"text-3xl font-bold",children:["Tier ",Z]})]}),(0,a.jsxs)("div",{className:"text-blue-100",children:["Current Tier — ",F," commission"]})]}),(0,a.jsx)("div",{className:"stat-card",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg bg-green-100",children:(0,a.jsx)(o.Z,{className:"text-green-600",size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-slate-900",children:["$",T.toLocaleString()]}),(0,a.jsx)("div",{className:"text-slate-600 text-sm",children:"This Month"})]})]})}),(0,a.jsx)("div",{className:"stat-card",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg bg-blue-100",children:(0,a.jsx)(m.Z,{className:"text-blue-600",size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-slate-900",children:["$",k.toLocaleString()]}),(0,a.jsx)("div",{className:"text-slate-600 text-sm",children:"Total Earned"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"font-display text-2xl font-bold text-slate-900 mb-6",children:"Commission History"}),y?(0,a.jsx)("div",{className:"text-center py-12 text-slate-500",children:"Loading..."}):0===x.length?(0,a.jsxs)("div",{className:"text-center py-12 text-slate-500",children:[(0,a.jsx)(o.Z,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No commissions yet"})]}):(0,a.jsx)("div",{className:"space-y-4",children:x.slice(0,10).map(e=>(0,a.jsx)(u,{commission:e},e.id))})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"font-display text-xl font-bold text-slate-900 mb-6",children:"Commission Tiers"}),(0,a.jsx)("div",{className:"space-y-4",children:p.map(e=>(0,a.jsx)(j,{tier:e,isCurrentTier:e.tier_level===Z},e.id))}),(0,a.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:(0,a.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,a.jsx)("strong",{children:"Note:"})," Tiers are based on monthly written premium. Commission is paid on recognized premium."]})})]})})]})]})]})}let u=e=>{let{commission:s}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:border-brand-300 hover:bg-brand-50/50 transition-all",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)(x.Z,{size:16,className:"text-slate-500"}),(0,a.jsxs)("span",{className:"font-semibold text-slate-900",children:["Period: ",s.period]}),(0,a.jsx)("span",{className:"badge ".concat("paid"===s.status?"badge-success":"calculated"===s.status?"badge-info":"badge-warning"),children:s.status})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Written: "}),(0,a.jsxs)("span",{className:"font-semibold",children:["$",parseFloat(s.written_premium).toLocaleString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Tier: "}),(0,a.jsx)("span",{className:"font-semibold",children:s.tier_level})]})]})]}),(0,a.jsxs)("div",{className:"text-right ml-6",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-brand-600",children:["$",parseFloat(s.commission_amount).toLocaleString()]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:[(100*parseFloat(s.commission_rate)).toFixed(1),"% rate"]})]})]})},j=e=>{let{tier:s,isCurrentTier:t}=e;return(0,a.jsxs)("div",{className:"p-4 rounded-lg border-2 ".concat(t?"border-brand-500 bg-brand-50":"border-slate-200 bg-white hover:border-brand-300"," transition-all"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"font-bold text-lg text-slate-900",children:["Tier ",s.tier_level]}),t&&(0,a.jsxs)("span",{className:"badge badge-info",children:[(0,a.jsx)(d.Z,{size:12})," Current"]})]}),(0,a.jsxs)("div",{className:"text-sm text-slate-600 mb-2",children:["$",parseFloat(s.min_written_premium).toLocaleString(),s.max_written_premium?" - $".concat(parseFloat(s.max_written_premium).toLocaleString()):"+"," ","written"]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-brand-600",children:[(100*parseFloat(s.commission_rate)).toFixed(1),"%"]}),s.description&&(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:s.description})]})}}},function(e){e.O(0,[597,228,888,774,179],function(){return e(e.s=2765)}),_N_E=e.O()}]);